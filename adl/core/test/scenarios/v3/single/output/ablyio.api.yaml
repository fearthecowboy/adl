http:
  authentications:
    - type: http
      name: basicAuth
      description: Basic Authentication using an [API
        key](https://www.ably.io/documentation/core-features/authentication#basic-authentication).
      scheme: basic
    - type: http
      name: bearerAuth
      description: Token Authentication using an [Ably
        Token](https://www.ably.io/documentation/core-features/authentication#basic-authentication),
        or optionally an [Ably
        JWT](https://www.ably.io/documentation/core-features/authentication#ably-jwt-process).
      scheme: bearer
  connections:
    - url: https://rest.ably.io
  headers:
    - &a7
      name: ErrorCode
      description: The error code.
      schema: &a5
        type: int64
        name: anonymous<unknown>
    - &a8
      name: ErrorMessage
      description: The error message.
      schema: &a1
        type: string
        name: anonymous<unknown>
    - &a3
      name: Link
      description: Links to related resources, in the format defined by [RFC
        5988](https://tools.ietf.org/html/rfc5988#section-5). This will
        potentially include a link with relation type `next`, `first`, and
        `current`, where appropiate.
      schema:
        type: alias
        name: anonymous<string>
        aliasType: schema
        constraints:
          - type: constraint
            name: RegularExpression
            length: (<(.*)?>; rel=\"(first|current|last)?\",)*(<(.*)?>;
              rel=\"(first|current|last)?\")+
        targetSchema: *a1
    - &a9
      name: ServerId
      description: The ID for the server communicated with.
      schema: *a1
  operations:
    - description: Enumerate all active channels of the application
      id: getMetadataOfAllChannels
      parameters:
        - type: query
          name: by
          description: optionally specifies whether to return just channel names (by=id)
            or ChannelDetails (by=value)
          expandParameterValues: true
          renderStyle: form
          schema:
            type: enum
            name: schema
            elementSchema: &a2
              type: alias
              name: anonymous<string>
              aliasType: schema
              targetSchema: *a1
            sealed: true
            values:
              - type: constant
                name: anonymous<unknown>
                value: value
                valueSchema: *a2
              - type: constant
                name: anonymous<unknown>
                value: id
                valueSchema: *a2
      responses:
        - name: 2XX
          description: OK
          headers:
            - name: link
              aliasType: header
              target: *a3
          mediaType: application/json
          schema:
            type: Xor
            name: anonymous<oneOf>
            oneOf:
              - type: alias
                name: "0"
                aliasType: schema
                targetSchema:
                  type: array
                  name: anonymous<unknown>
                  elementSchema: &a6
                    type: object
                    name: ChannelDetails
                    properties:
                      - name: channelId
                        description: The required name of the channel including any qualifier, if any.
                        required: true
                        schema:
                          type: alias
                          name: anonymous<string>
                          aliasType: schema
                          description: The required name of the channel including any qualifier, if any.
                          targetSchema: *a1
                      - name: isGlobalMaster
                        description: In events relating to the activity of a channel in a specific
                          region, this optionally identifies whether or not that
                          region is responsible for global coordination of the
                          channel.
                        schema: &a4
                          type: boolean
                          name: anonymous<unknown>
                      - name: region
                        description: In events relating to the activity of a channel in a specific
                          region, this optionally identifies the region.
                        schema:
                          type: alias
                          name: anonymous<string>
                          aliasType: schema
                          description: In events relating to the activity of a channel in a specific
                            region, this optionally identifies the region.
                          targetSchema: *a1
                      - name: status
                        schema: &a37
                          type: object
                          name: ChannelStatus
                          description: A ChannelStatus instance.
                          properties:
                            - name: isActive
                              description: A required boolean value indicating whether the channel that is the
                                subject of the event is active. For events
                                indicating regional activity of a channel this
                                indicates activity in that region, not global
                                activity.
                              required: true
                              schema: *a4
                            - name: occupancy
                              schema: &a38
                                type: object
                                name: Occupancy
                                description: An Occupancy instance indicating the occupancy of a channel. For
                                  events indicating regional activity of a
                                  channel this indicates activity in that
                                  region, not global activity.
                                properties:
                                  - name: presenceConnections
                                    description: The number of connections that are authorised to enter members into
                                      the presence channel.
                                    schema:
                                      type: alias
                                      name: anonymous<number>
                                      aliasType: schema
                                      description: The number of connections that are authorised to enter members into
                                        the presence channel.
                                      targetSchema: *a5
                                  - name: presenceMembers
                                    description: The number of members currently entered into the presence channel.
                                    schema:
                                      type: alias
                                      name: anonymous<number>
                                      aliasType: schema
                                      description: The number of members currently entered into the presence channel.
                                      targetSchema: *a5
                                  - name: presenceSubscribers
                                    description: The number of connections that are authorised to subscribe to
                                      presence messages.
                                    schema:
                                      type: alias
                                      name: anonymous<number>
                                      aliasType: schema
                                      description: The number of connections that are authorised to subscribe to
                                        presence messages.
                                      targetSchema: *a5
                                  - name: publishers
                                    description: The number of connections attached to the channel that are
                                      authorised to publish.
                                    schema:
                                      type: alias
                                      name: anonymous<number>
                                      aliasType: schema
                                      description: The number of connections attached to the channel that are
                                        authorised to publish.
                                      targetSchema: *a5
                                  - name: subscribers
                                    description: The number of connections attached that are authorised to subscribe
                                      to messages.
                                    schema:
                                      type: alias
                                      name: anonymous<number>
                                      aliasType: schema
                                      description: The number of connections attached that are authorised to subscribe
                                        to messages.
                                      targetSchema: *a5
              - type: array
                name: anonymous<unknown>
                elementSchema: *a1
        - name: 2XX
          description: OK
          headers:
            - name: link
              aliasType: header
              target: *a3
          mediaType: application/x-msgpack
          schema:
            type: Xor
            name: anonymous<oneOf>
            oneOf:
              - type: alias
                name: "0"
                aliasType: schema
                targetSchema:
                  type: array
                  name: anonymous<unknown>
                  elementSchema: *a6
              - type: array
                name: anonymous<unknown>
                elementSchema: *a1
        - name: 2XX
          description: OK
          headers:
            - name: link
              aliasType: header
              target: *a3
          mediaType: text/html
          schema: *a1
        - name: default
          aliasType: response
          target: &a11
            name: Error
            description: Error
            headers:
              - name: x-ably-errorcode
                aliasType: header
                target: *a7
              - name: x-ably-errormessage
                aliasType: header
                target: *a8
              - name: x-ably-serverid
                aliasType: header
                target: *a9
            mediaType: application/json
            schema:
              type: alias
              name: schema
              aliasType: schema
              targetSchema: &a10
                type: object
                name: Error
                description: Returned error from failed REST.
                properties:
                  - name: code
                    description: Error code.
                    schema:
                      type: alias
                      name: anonymous<number>
                      aliasType: schema
                      description: Error code.
                      targetSchema: *a5
                  - name: href
                    description: Link to help with error.
                    schema:
                      type: alias
                      name: anonymous<string>
                      aliasType: schema
                      description: Link to help with error.
                      targetSchema: *a1
                  - name: message
                    description: Message explaining the error's cause.
                    schema:
                      type: alias
                      name: anonymous<string>
                      aliasType: schema
                      description: Message explaining the error's cause.
                      targetSchema: *a1
                  - name: serverId
                    description: Server ID with which error was encountered.
                    schema:
                      type: alias
                      name: anonymous<string>
                      aliasType: schema
                      description: Server ID with which error was encountered.
                      targetSchema: *a1
                  - name: statusCode
                    description: Status error code.
                    schema:
                      type: alias
                      name: anonymous<number>
                      aliasType: schema
                      description: Status error code.
                      targetSchema: *a5
        - name: default
          aliasType: response
          target: &a12
            name: Error
            description: Error
            headers:
              - name: x-ably-errorcode
                aliasType: header
                target: *a7
              - name: x-ably-errormessage
                aliasType: header
                target: *a8
              - name: x-ably-serverid
                aliasType: header
                target: *a9
            mediaType: application/x-msgpack
            schema:
              type: alias
              name: schema
              aliasType: schema
              targetSchema: *a10
        - name: default
          aliasType: response
          target: &a13
            name: Error
            description: Error
            headers:
              - name: x-ably-errorcode
                aliasType: header
                target: *a7
              - name: x-ably-errormessage
                aliasType: header
                target: *a8
              - name: x-ably-serverid
                aliasType: header
                target: *a9
            mediaType: text/html
            schema:
              type: alias
              name: schema
              aliasType: schema
              targetSchema: *a10
      summary: Enumerate all active channels of the application
      tags:
        - Status
    - description: Get metadata of a channel
      id: getMetadataOfChannel
      parameters:
        - name: "0"
          aliasType: parameter
          target: &a17
            type: path
            name: channel_id
            description: The [Channel's
              ID](https://www.ably.io/documentation/rest/channels).
            expandParameterValues: false
            renderStyle: simple
            required: true
            schema: *a1
      responses:
        - name: "200"
          description: OK
          headers:
            - name: x-ably-serverid
              aliasType: header
              target: *a9
          mediaType: application/json
          schema:
            type: alias
            name: schema
            aliasType: schema
            targetSchema: *a6
        - name: default
          aliasType: response
          target: *a11
        - name: default
          aliasType: response
          target: *a12
        - name: default
          aliasType: response
          target: *a13
      summary: Get metadata of a channel
      tags:
        - Status
    - description: Get message history for a channel
      id: getMessagesByChannel
      parameters:
        - name: "4"
          aliasType: parameter
          target: &a21
            type: query
            name: direction
            expandParameterValues: true
            renderStyle: form
            schema:
              type: enum
              name: schema
              elementSchema: &a14
                type: alias
                name: anonymous<string>
                aliasType: schema
                defaults:
                  - type: server-default
                    name: anonymous<unknown>
                    value: backwards
                targetSchema: *a1
              sealed: true
              values:
                - type: constant
                  name: anonymous<unknown>
                  value: forwards
                  valueSchema: *a14
                - type: constant
                  name: anonymous<unknown>
                  value: backwards
                  valueSchema: *a14
      responses:
        - name: 2XX
          description: OK
          headers:
            - name: link
              aliasType: header
              target: *a3
            - name: x-ably-serverid
              aliasType: header
              target: *a9
          mediaType: application/json
          schema:
            type: alias
            name: schema
            aliasType: schema
            targetSchema:
              type: array
              name: anonymous<unknown>
              elementSchema: &a16
                type: object
                name: Message
                description: Message object.
                properties:
                  - name: clientId
                    description: The [client
                      ID](https://www.ably.io/documentation/core-features/authentication#identified-clients)
                      of the publisher of this message.
                    schema:
                      type: alias
                      name: anonymous<string>
                      aliasType: schema
                      description: The [client
                        ID](https://www.ably.io/documentation/core-features/authentication#identified-clients)
                        of the publisher of this message.
                      targetSchema: *a1
                  - name: connectionId
                    description: The connection ID of the publisher of this message.
                    schema:
                      type: alias
                      name: anonymous<string>
                      aliasType: schema
                      description: The connection ID of the publisher of this message.
                      targetSchema: *a1
                  - name: data
                    description: The string encoded payload, with the encoding specified below.
                    schema:
                      type: alias
                      name: anonymous<string>
                      aliasType: schema
                      description: The string encoded payload, with the encoding specified below.
                      targetSchema: *a1
                  - name: encoding
                    description: This will typically be empty as all messages received from Ably are
                      automatically decoded client-side using this value.
                      However, if the message encoding cannot be processed, this
                      attribute will contain the remaining transformations not
                      applied to the data payload.
                    schema:
                      type: alias
                      name: anonymous<string>
                      aliasType: schema
                      description: This will typically be empty as all messages received from Ably are
                        automatically decoded client-side using this value.
                        However, if the message encoding cannot be processed,
                        this attribute will contain the remaining
                        transformations not applied to the data payload.
                      targetSchema: *a1
                  - name: extras
                    schema: &a19
                      type: object
                      name: Extras
                      description: Extras object. Currently only allows for
                        [push](https://www.ably.io/documentation/general/push/publish#channel-broadcast-example)
                        extra.
                      properties:
                        - name: push
                          schema: &a33
                            type: object
                            name: Push
                            properties:
                              - name: apns
                                description: Extends and overrides generic values when delivering via APNs. [See
                                  examples](https://www.ably.io/documentation/general/push/publish#payload-structure)
                                schema:
                                  type: object
                                  name: anonymous<object>
                                  description: Extends and overrides generic values when delivering via APNs. [See
                                    examples](https://www.ably.io/documentation/general/push/publish#payload-structure)
                                  properties:
                                    - name: notification
                                      schema: &a15
                                        type: object
                                        name: Notification
                                        properties:
                                          - name: body
                                            description: Text below title on the expanded notification.
                                            schema:
                                              type: alias
                                              name: anonymous<string>
                                              aliasType: schema
                                              description: Text below title on the expanded notification.
                                              targetSchema: *a1
                                          - name: collapseKey
                                            description: Platform-specific, used to group notifications together.
                                            schema:
                                              type: alias
                                              name: anonymous<string>
                                              aliasType: schema
                                              description: Platform-specific, used to group notifications together.
                                              targetSchema: *a1
                                          - name: icon
                                            description: Platform-specific icon for the notification.
                                            schema:
                                              type: alias
                                              name: anonymous<string>
                                              aliasType: schema
                                              description: Platform-specific icon for the notification.
                                              targetSchema: *a1
                                          - name: sound
                                            description: Platform-specific sound for the notification.
                                            schema:
                                              type: alias
                                              name: anonymous<string>
                                              aliasType: schema
                                              description: Platform-specific sound for the notification.
                                              targetSchema: *a1
                                          - name: title
                                            description: Title to display at the notification.
                                            schema:
                                              type: alias
                                              name: anonymous<string>
                                              aliasType: schema
                                              description: Title to display at the notification.
                                              targetSchema: *a1
                              - name: data
                                description: Arbitrary [key-value string-to-string
                                  payload](https://www.ably.io/documentation/general/push/publish#channel-broadcast-example).
                                schema:
                                  type: alias
                                  name: anonymous<string>
                                  aliasType: schema
                                  description: Arbitrary [key-value string-to-string
                                    payload](https://www.ably.io/documentation/general/push/publish#channel-broadcast-example).
                                  targetSchema: *a1
                              - name: fcm
                                description: Extends and overrides generic values when delivering via GCM/FCM.
                                  [See
                                  examples](https://www.ably.io/documentation/general/push/publish#payload-structure)
                                schema:
                                  type: object
                                  name: anonymous<object>
                                  description: Extends and overrides generic values when delivering via GCM/FCM.
                                    [See
                                    examples](https://www.ably.io/documentation/general/push/publish#payload-structure)
                                  properties:
                                    - name: notification
                                      schema: *a15
                              - name: notification
                                schema: *a15
                              - name: web
                                description: Extends and overrides generic values when delivering via web. [See
                                  examples](https://www.ably.io/documentation/general/push/publish#payload-structure)
                                schema:
                                  type: object
                                  name: anonymous<object>
                                  description: Extends and overrides generic values when delivering via web. [See
                                    examples](https://www.ably.io/documentation/general/push/publish#payload-structure)
                                  properties:
                                    - name: notification
                                      schema: *a15
                  - name: id
                    description: A Unique ID that can be specified by the publisher for [idempotent
                      publishing](https://www.ably.io/documentation/rest/messages#idempotent).
                    readonly: true
                    schema:
                      type: alias
                      name: anonymous<string>
                      aliasType: schema
                      description: A Unique ID that can be specified by the publisher for [idempotent
                        publishing](https://www.ably.io/documentation/rest/messages#idempotent).
                      targetSchema: *a1
                  - name: name
                    description: The event name, if provided.
                    schema:
                      type: alias
                      name: anonymous<string>
                      aliasType: schema
                      description: The event name, if provided.
                      targetSchema: *a1
                  - name: timestamp
                    description: Timestamp when the message was received by the Ably, as
                      milliseconds since the epoch.
                    readonly: true
                    schema:
                      type: alias
                      name: anonymous<number>
                      aliasType: schema
                      description: Timestamp when the message was received by the Ably, as
                        milliseconds since the epoch.
                      targetSchema: *a5
        - name: 2XX
          description: OK
          headers:
            - name: link
              aliasType: header
              target: *a3
            - name: x-ably-serverid
              aliasType: header
              target: *a9
          mediaType: application/x-msgpack
          schema:
            type: alias
            name: schema
            aliasType: schema
            targetSchema:
              type: array
              name: anonymous<unknown>
              elementSchema: *a16
        - name: 2XX
          description: OK
          headers:
            - name: link
              aliasType: header
              target: *a3
            - name: x-ably-serverid
              aliasType: header
              target: *a9
          mediaType: text/html
          schema: *a1
        - name: default
          description: Error
          headers:
            - name: x-ably-errorcode
              aliasType: header
              target: *a7
            - name: x-ably-errormessage
              aliasType: header
              target: *a8
            - name: x-ably-serverid
              aliasType: header
              target: *a9
      summary: Get message history for a channel
      tags:
        - History
    - description: Publish a message to the specified channel
      id: publishMessagesToChannel
      parameters:
        - name: "0"
          aliasType: parameter
          target: *a17
      requests:
        - identity: anonymous<requestBody>
          mediaType: application/json
          schema:
            type: alias
            name: schema
            aliasType: schema
            targetSchema: *a16
        - identity: anonymous<requestBody>
          mediaType: application/x-msgpack
          schema:
            type: alias
            name: schema
            aliasType: schema
            targetSchema: *a16
        - identity: anonymous<requestBody>
          mediaType: application/x-www-form-urlencoded
          schema:
            type: alias
            name: schema
            aliasType: schema
            targetSchema: *a16
      responses:
        - name: 2XX
          description: OK
          headers:
            - name: x-ably-serverid
              aliasType: header
              target: *a9
          mediaType: application/json
          schema:
            type: object
            name: anonymous<object>
            properties:
              - name: channel
                schema: *a1
              - name: messageId
                schema: *a1
        - name: 2XX
          description: OK
          headers:
            - name: x-ably-serverid
              aliasType: header
              target: *a9
          mediaType: application/x-msgpack
          schema:
            type: object
            name: anonymous<object>
            properties:
              - name: channel
                schema: *a1
              - name: messageId
                schema: *a1
        - name: 2XX
          description: OK
          headers:
            - name: x-ably-serverid
              aliasType: header
              target: *a9
          mediaType: text/html
          schema:
            type: object
            name: anonymous<object>
            properties:
              - name: channel
                schema: *a1
              - name: messageId
                schema: *a1
        - name: default
          aliasType: response
          target: *a11
        - name: default
          aliasType: response
          target: *a12
        - name: default
          aliasType: response
          target: *a13
      summary: Publish a message to a channel
      tags:
        - Publishing
    - description: Get presence on a channel
      id: getPresenceOfChannel
      parameters:
        - type: query
          name: limit
          expandParameterValues: true
          renderStyle: form
          schema:
            type: alias
            name: anonymous<number>
            aliasType: schema
            defaults:
              - type: server-default
                name: anonymous<unknown>
                value: 100
            targetSchema: *a5
      responses:
        - name: "200"
          description: OK
          headers:
            - name: link
              aliasType: header
              target: *a3
            - name: x-ably-serverid
              aliasType: header
              target: *a9
          mediaType: application/json
          schema:
            type: alias
            name: schema
            aliasType: schema
            targetSchema:
              type: array
              name: anonymous<unknown>
              elementSchema: &a20
                type: object
                name: PresenceMessage
                properties:
                  - name: action
                    description: The event signified by a PresenceMessage.
                    readonly: true
                    schema:
                      type: enum
                      name: action
                      elementSchema: &a18
                        type: alias
                        name: anonymous<string>
                        aliasType: schema
                        description: The event signified by a PresenceMessage.
                        targetSchema: *a1
                      sealed: true
                      values:
                        - type: constant
                          name: anonymous<unknown>
                          value: ABSENT
                          valueSchema: *a18
                        - type: constant
                          name: anonymous<unknown>
                          value: PRESENT
                          valueSchema: *a18
                        - type: constant
                          name: anonymous<unknown>
                          value: ENTER
                          valueSchema: *a18
                        - type: constant
                          name: anonymous<unknown>
                          value: LEAVE
                          valueSchema: *a18
                        - type: constant
                          name: anonymous<unknown>
                          value: UPDATE
                          valueSchema: *a18
                  - name: clientId
                    description: The client ID of the publisher of this presence update.
                    schema:
                      type: alias
                      name: anonymous<string>
                      aliasType: schema
                      description: The client ID of the publisher of this presence update.
                      targetSchema: *a1
                  - name: connectionId
                    description: The connection ID of the publisher of this presence update.
                    schema:
                      type: alias
                      name: anonymous<string>
                      aliasType: schema
                      description: The connection ID of the publisher of this presence update.
                      targetSchema: *a1
                  - name: data
                    description: The presence update payload, if provided.
                    schema:
                      type: alias
                      name: anonymous<string>
                      aliasType: schema
                      description: The presence update payload, if provided.
                      targetSchema: *a1
                  - name: encoding
                    description: This will typically be empty as all presence updates received from
                      Ably are automatically decoded client-side using this
                      value. However, if the message encoding cannot be
                      processed, this attribute will contain the remaining
                      transformations not applied to the data payload.
                    schema:
                      type: alias
                      name: anonymous<string>
                      aliasType: schema
                      description: This will typically be empty as all presence updates received from
                        Ably are automatically decoded client-side using this
                        value. However, if the message encoding cannot be
                        processed, this attribute will contain the remaining
                        transformations not applied to the data payload.
                      targetSchema: *a1
                  - name: extras
                    schema: *a19
                  - name: id
                    description: Unique ID assigned by Ably to this presence update.
                    readonly: true
                    schema:
                      type: alias
                      name: anonymous<string>
                      aliasType: schema
                      description: Unique ID assigned by Ably to this presence update.
                      targetSchema: *a1
                  - name: timestamp
                    description: Timestamp when the presence update was received by Ably, as
                      milliseconds since the epoch.
                    readonly: true
                    schema:
                      type: alias
                      name: anonymous<number>
                      aliasType: schema
                      description: Timestamp when the presence update was received by Ably, as
                        milliseconds since the epoch.
                      targetSchema: *a5
        - name: "200"
          description: OK
          headers:
            - name: link
              aliasType: header
              target: *a3
            - name: x-ably-serverid
              aliasType: header
              target: *a9
          mediaType: application/x-msgpack
          schema:
            type: alias
            name: schema
            aliasType: schema
            targetSchema:
              type: array
              name: anonymous<unknown>
              elementSchema: *a20
        - name: "200"
          description: OK
          headers:
            - name: link
              aliasType: header
              target: *a3
            - name: x-ably-serverid
              aliasType: header
              target: *a9
          mediaType: text/html
          schema: *a1
        - name: default
          aliasType: response
          target: *a11
        - name: default
          aliasType: response
          target: *a12
        - name: default
          aliasType: response
          target: *a13
      summary: Get presence of a channel
      tags:
        - Status
    - description: Get presence on a channel
      id: getPresenceHistoryOfChannel
      parameters:
        - name: "4"
          aliasType: parameter
          target: *a21
      responses:
        - name: 2XX
          description: OK
          headers:
            - name: link
              aliasType: header
              target: *a3
          mediaType: application/json
          schema:
            type: alias
            name: schema
            aliasType: schema
            targetSchema:
              type: array
              name: anonymous<unknown>
              elementSchema: *a20
        - name: 2XX
          description: OK
          headers:
            - name: link
              aliasType: header
              target: *a3
          mediaType: application/x-msgpack
          schema:
            type: alias
            name: schema
            aliasType: schema
            targetSchema:
              type: array
              name: anonymous<unknown>
              elementSchema: *a20
        - name: 2XX
          description: OK
          headers:
            - name: link
              aliasType: header
              target: *a3
          mediaType: text/html
          schema: *a1
        - name: default
          aliasType: response
          target: *a11
        - name: default
          aliasType: response
          target: *a12
        - name: default
          aliasType: response
          target: *a13
      summary: Get presence history of a channel
      tags:
        - History
    - description: This is the means by which clients obtain access tokens to use the
        service. You can see how to construct an Ably TokenRequest in the [Ably
        TokenRequest
        spec](https://www.ably.io/documentation/rest-api/token-request-spec)
        documentation, although we recommend you use an Ably SDK rather to
        create a TokenRequest, as the construction of a TokenRequest is complex.
        The resulting token response object contains the token properties as
        defined in Ably TokenRequest spec. Authentication is not required if
        using a Signed TokenRequest.
      id: requestAccessToken
      parameters:
        - name: "0"
          aliasType: parameter
          target: &a36
            type: path
            name: keyName
            description: The [key
              name](https://www.ably.io/documentation/rest-api/token-request-spec#api-key-format)
              comprises of the app ID and key ID of an API key.
            expandParameterValues: false
            renderStyle: simple
            required: true
            schema: *a1
      requests:
        - identity: anonymous<requestBody>
          mediaType: application/json
          schema:
            type: Xor
            name: anonymous<oneOf>
            oneOf:
              - &a23
                type: object
                name: TokenRequest
                properties:
                  - name: capability
                    description: The
                      [capabilities](https://www.ably.io/documentation/core-features/authentication#capabilities-explained)
                      (i.e. a set of channel names/namespaces and, for each, a
                      set of operations) which should be a subset of the set of
                      capabilities associated with the key specified in keyName.
                    required: true
                    schema:
                      type: object
                      name: anonymous<object>
                      description: The
                        [capabilities](https://www.ably.io/documentation/core-features/authentication#capabilities-explained)
                        (i.e. a set of channel names/namespaces and, for each, a
                        set of operations) which should be a subset of the set
                        of capabilities associated with the key specified in
                        keyName.
                      attic:
                        example: &a22
                          channel1:
                            - publish
                            - subscribe
                    attic:
                      example: *a22
                  - name: clientId
                    description: The [client
                      ID](https://www.ably.io/documentation/core-features/authentication#identified-clients)
                      to be assosciated with the token. Can be set to * to allow
                      for any client ID to be used.
                    schema:
                      type: alias
                      name: anonymous<string>
                      aliasType: schema
                      description: The [client
                        ID](https://www.ably.io/documentation/core-features/authentication#identified-clients)
                        to be assosciated with the token. Can be set to * to
                        allow for any client ID to be used.
                      targetSchema: *a1
                  - name: keyName
                    description: Name of the key used for the TokenRequest. The keyName comprises of
                      the app ID and key ID on an API Key.
                    required: true
                    schema:
                      type: alias
                      name: anonymous<string>
                      aliasType: schema
                      description: Name of the key used for the TokenRequest. The keyName comprises of
                        the app ID and key ID on an API Key.
                      targetSchema: *a1
                      attic:
                        example: xVLyHw.LMJZxw
                    attic:
                      example: xVLyHw.LMJZxw
                  - name: nonce
                    description: An unquoted, un-escaped random string of at least 16 characters.
                      Used to ensure the Ably TokenRequest cannot be reused.
                    required: true
                    schema:
                      type: alias
                      name: anonymous<string>
                      aliasType: schema
                      description: An unquoted, un-escaped random string of at least 16 characters.
                        Used to ensure the Ably TokenRequest cannot be reused.
                      targetSchema: *a1
                  - name: timestamp
                    description: Time of creation of the Ably TokenRequest.
                    required: true
                    schema:
                      type: alias
                      name: anonymous<number>
                      aliasType: schema
                      description: Time of creation of the Ably TokenRequest.
                      targetSchema: *a5
              - &a39
                type: object
                name: SignedTokenRequest
                extends:
                  - *a23
                  - type: object
                    name: anonymous<object>
                    properties:
                      - name: mac
                        description: A signature, generated as an HMAC of each of the above components,
                          using the key secret value.
                        required: true
                        schema:
                          type: alias
                          name: anonymous<string>
                          aliasType: schema
                          description: A signature, generated as an HMAC of each of the above components,
                            using the key secret value.
                          targetSchema: *a1
          attic:
            example:
              capability:
                channel1:
                  - publish
                  - subscribe
                wildcard:channels:*:
                  - publish
              keyName: YourKey.Name
              timestamp: "1559124196551"
      responses:
        - name: 2XX
          description: OK
          mediaType: application/json
          schema:
            type: alias
            name: schema
            aliasType: schema
            targetSchema: &a24
              type: object
              name: TokenDetails
              properties:
                - name: capability
                  description: Regular expression representation of the capabilities of the token.
                  schema:
                    type: alias
                    name: anonymous<string>
                    aliasType: schema
                    description: Regular expression representation of the capabilities of the token.
                    targetSchema: *a1
                - name: expires
                  description: Timestamp of token expiration.
                  schema:
                    type: alias
                    name: anonymous<number>
                    aliasType: schema
                    description: Timestamp of token expiration.
                    targetSchema: *a5
                - name: issued
                  description: Timestamp of token creation.
                  schema:
                    type: alias
                    name: anonymous<number>
                    aliasType: schema
                    description: Timestamp of token creation.
                    targetSchema: *a5
                - name: keyName
                  description: Name of the key used to create the token
                  schema:
                    type: alias
                    name: anonymous<string>
                    aliasType: schema
                    description: Name of the key used to create the token
                    targetSchema: *a1
                - name: token
                  description: The Ably Token.
                  schema:
                    type: alias
                    name: anonymous<string>
                    aliasType: schema
                    description: The Ably Token.
                    targetSchema: *a1
        - name: 2XX
          description: OK
          mediaType: application/x-msgpack
          schema:
            type: alias
            name: schema
            aliasType: schema
            targetSchema: *a24
        - name: default
          aliasType: response
          target: *a11
        - name: default
          aliasType: response
          target: *a12
        - name: default
          aliasType: response
          target: *a13
      summary: Request an access token
      tags:
        - Authentication
    - description: Get a list of push notification subscriptions to channels.
      id: getPushSubscriptionsOnChannels
      parameters:
        - type: query
          name: limit
          description: The maximum number of records to return.
          expandParameterValues: true
          renderStyle: form
          schema:
            type: alias
            name: anonymous<number>
            aliasType: schema
            constraints:
              - type: constraint
                name: Maximum
                maximum: 1000
            defaults:
              - type: server-default
                name: anonymous<unknown>
                value: 100
            targetSchema: *a5
      responses:
        - name: 2XX
          description: OK
          mediaType: application/json
          schema:
            type: alias
            name: schema
            aliasType: schema
            targetSchema: &a31
              type: object
              name: DeviceDetails
              properties:
                - name: clientId
                  description: Optional trusted client identifier for the device.
                  schema:
                    type: alias
                    name: anonymous<string>
                    aliasType: schema
                    description: Optional trusted client identifier for the device.
                    targetSchema: *a1
                - name: deviceSecret
                  description: Secret value for the device.
                  schema:
                    type: alias
                    name: anonymous<string>
                    aliasType: schema
                    description: Secret value for the device.
                    targetSchema: *a1
                - name: formFactor
                  description: Form factor of the push device.
                  schema:
                    type: enum
                    name: formFactor
                    elementSchema: &a25
                      type: alias
                      name: anonymous<string>
                      aliasType: schema
                      description: Form factor of the push device.
                      targetSchema: *a1
                    sealed: true
                    values:
                      - type: constant
                        name: anonymous<unknown>
                        value: phone
                        valueSchema: *a25
                      - type: constant
                        name: anonymous<unknown>
                        value: tablet
                        valueSchema: *a25
                      - type: constant
                        name: anonymous<unknown>
                        value: desktop
                        valueSchema: *a25
                      - type: constant
                        name: anonymous<unknown>
                        value: tv
                        valueSchema: *a25
                      - type: constant
                        name: anonymous<unknown>
                        value: watch
                        valueSchema: *a25
                      - type: constant
                        name: anonymous<unknown>
                        value: car
                        valueSchema: *a25
                      - type: constant
                        name: anonymous<unknown>
                        value: embedded
                        valueSchema: *a25
                - name: id
                  description: Unique identifier for the device generated by the device itself.
                  schema:
                    type: alias
                    name: anonymous<string>
                    aliasType: schema
                    description: Unique identifier for the device generated by the device itself.
                    targetSchema: *a1
                - name: metadata
                  description: Optional metadata object for this device. The metadata for a device
                    may only be set by clients with push-admin privileges and
                    will be used more extensively in the future with smart
                    notifications.
                  schema:
                    type: object
                    name: anonymous<object>
                    description: Optional metadata object for this device. The metadata for a device
                      may only be set by clients with push-admin privileges and
                      will be used more extensively in the future with smart
                      notifications.
                - name: platform
                  description: Platform of the push device.
                  schema:
                    type: enum
                    name: platform
                    elementSchema: &a26
                      type: alias
                      name: anonymous<string>
                      aliasType: schema
                      description: Platform of the push device.
                      targetSchema: *a1
                    sealed: true
                    values:
                      - type: constant
                        name: anonymous<unknown>
                        value: ios
                        valueSchema: *a26
                      - type: constant
                        name: anonymous<unknown>
                        value: android
                        valueSchema: *a26
                - name: push.recipient
                  schema: &a34
                    type: object
                    name: Recipient
                    description: Push recipient details for a device.
                    properties:
                      - name: clientId
                        description: Client ID of recipient
                        schema:
                          type: alias
                          name: anonymous<string>
                          aliasType: schema
                          description: Client ID of recipient
                          targetSchema: *a1
                        writeonly: true
                      - name: deviceId
                        description: Client ID of recipient
                        schema:
                          type: alias
                          name: anonymous<string>
                          aliasType: schema
                          description: Client ID of recipient
                          targetSchema: *a1
                        writeonly: true
                      - name: deviceToken
                        description: when using APNs, specifies the required device token.
                        schema:
                          type: alias
                          name: anonymous<string>
                          aliasType: schema
                          description: when using APNs, specifies the required device token.
                          targetSchema: *a1
                      - name: registrationToken
                        description: when using GCM or FCM, specifies the required registration token.
                        schema:
                          type: alias
                          name: anonymous<string>
                          aliasType: schema
                          description: when using GCM or FCM, specifies the required registration token.
                          targetSchema: *a1
                      - name: transportType
                        description: Defines which push platform is being used.
                        schema:
                          type: enum
                          name: transportType
                          elementSchema: &a27
                            type: alias
                            name: anonymous<string>
                            aliasType: schema
                            description: Defines which push platform is being used.
                            targetSchema: *a1
                          sealed: true
                          values:
                            - type: constant
                              name: anonymous<unknown>
                              value: apns
                              valueSchema: *a27
                            - type: constant
                              name: anonymous<unknown>
                              value: fcm
                              valueSchema: *a27
                            - type: constant
                              name: anonymous<unknown>
                              value: gcm
                              valueSchema: *a27
                - name: push.state
                  description: the current state of the push device.
                  readonly: true
                  schema:
                    type: enum
                    name: push.state
                    elementSchema: &a28
                      type: alias
                      name: anonymous<string>
                      aliasType: schema
                      description: the current state of the push device.
                      targetSchema: *a1
                    sealed: true
                    values:
                      - type: constant
                        name: anonymous<unknown>
                        value: Active
                        valueSchema: *a28
                      - type: constant
                        name: anonymous<unknown>
                        value: Failing
                        valueSchema: *a28
                      - type: constant
                        name: anonymous<unknown>
                        value: Failed
                        valueSchema: *a28
        - name: default
          aliasType: response
          target: *a11
        - name: default
          aliasType: response
          target: *a12
        - name: default
          aliasType: response
          target: *a13
      summary: List channel subscriptions
      tags:
        - Push
    - description: Subscribe either a single device or all devices associated with a
        client ID to receive push notifications from messages sent to a channel.
      id: subscribePushDeviceToChannel
      parameters:
        - name: "1"
          aliasType: parameter
          target: &a30
            type: query
            name: format
            description: The response format you would like
            expandParameterValues: true
            renderStyle: form
            schema:
              type: enum
              name: schema
              elementSchema: &a29
                type: alias
                name: anonymous<string>
                aliasType: schema
                targetSchema: *a1
              sealed: true
              values:
                - type: constant
                  name: anonymous<unknown>
                  value: json
                  valueSchema: *a29
                - type: constant
                  name: anonymous<unknown>
                  value: jsonp
                  valueSchema: *a29
                - type: constant
                  name: anonymous<unknown>
                  value: msgpack
                  valueSchema: *a29
                - type: constant
                  name: anonymous<unknown>
                  value: html
                  valueSchema: *a29
      requests:
        - identity: anonymous<requestBody>
          mediaType: application/json
          schema:
            type: Xor
            name: anonymous<oneOf>
            oneOf:
              - type: object
                name: anonymous<object>
                properties:
                  - name: channel
                    description: Channel name.
                    schema:
                      type: alias
                      name: anonymous<string>
                      aliasType: schema
                      description: Channel name.
                      targetSchema: *a1
                  - name: deviceId
                    description: Must be set when clientId is empty, cannot be used with clientId.
                    schema:
                      type: alias
                      name: anonymous<string>
                      aliasType: schema
                      description: Must be set when clientId is empty, cannot be used with clientId.
                      targetSchema: *a1
              - type: object
                name: anonymous<object>
                properties:
                  - name: channel
                    description: Channel name.
                    schema:
                      type: alias
                      name: anonymous<string>
                      aliasType: schema
                      description: Channel name.
                      targetSchema: *a1
                  - name: clientId
                    description: Must be set when deviceId is empty, cannot be used with deviceId.
                    schema:
                      type: alias
                      name: anonymous<string>
                      aliasType: schema
                      description: Must be set when deviceId is empty, cannot be used with deviceId.
                      targetSchema: *a1
          attic:
            example:
              channel: my:channel
              clientId: myClientId
        - identity: anonymous<requestBody>
          mediaType: application/x-msgpack
          schema:
            type: Xor
            name: anonymous<oneOf>
            oneOf:
              - type: object
                name: anonymous<object>
                properties:
                  - name: channel
                    description: Channel name.
                    schema:
                      type: alias
                      name: anonymous<string>
                      aliasType: schema
                      description: Channel name.
                      targetSchema: *a1
                  - name: deviceId
                    description: Must be set when clientId is empty, cannot be used with clientId.
                    schema:
                      type: alias
                      name: anonymous<string>
                      aliasType: schema
                      description: Must be set when clientId is empty, cannot be used with clientId.
                      targetSchema: *a1
              - type: object
                name: anonymous<object>
                properties:
                  - name: channel
                    description: Channel name.
                    schema:
                      type: alias
                      name: anonymous<string>
                      aliasType: schema
                      description: Channel name.
                      targetSchema: *a1
                  - name: clientId
                    description: Must be set when deviceId is empty, cannot be used with deviceId.
                    schema:
                      type: alias
                      name: anonymous<string>
                      aliasType: schema
                      description: Must be set when deviceId is empty, cannot be used with deviceId.
                      targetSchema: *a1
          attic:
            example:
              channel: my:channel
              clientId: myClientId
        - identity: anonymous<requestBody>
          mediaType: application/x-www-form-urlencoded
          schema:
            type: Xor
            name: anonymous<oneOf>
            oneOf:
              - type: object
                name: anonymous<object>
                properties:
                  - name: channel
                    description: Channel name.
                    schema:
                      type: alias
                      name: anonymous<string>
                      aliasType: schema
                      description: Channel name.
                      targetSchema: *a1
                  - name: deviceId
                    description: Must be set when clientId is empty, cannot be used with clientId.
                    schema:
                      type: alias
                      name: anonymous<string>
                      aliasType: schema
                      description: Must be set when clientId is empty, cannot be used with clientId.
                      targetSchema: *a1
              - type: object
                name: anonymous<object>
                properties:
                  - name: channel
                    description: Channel name.
                    schema:
                      type: alias
                      name: anonymous<string>
                      aliasType: schema
                      description: Channel name.
                      targetSchema: *a1
                  - name: clientId
                    description: Must be set when deviceId is empty, cannot be used with deviceId.
                    schema:
                      type: alias
                      name: anonymous<string>
                      aliasType: schema
                      description: Must be set when deviceId is empty, cannot be used with deviceId.
                      targetSchema: *a1
          attic:
            example:
              channel: my:channel
              clientId: myClientId
      responses:
        - name: 2XX
          description: OK
        - name: default
          aliasType: response
          target: *a11
        - name: default
          aliasType: response
          target: *a12
        - name: default
          aliasType: response
          target: *a13
      summary: Subscribe a device to a channel
      tags:
        - Push
    - description: Delete a device details object.
      id: deletePushDeviceDetails
      parameters:
        - type: query
          name: clientId
          description: Must be set when deviceId is empty, cannot be used with deviceId.
          expandParameterValues: true
          renderStyle: form
          schema: *a1
      responses:
        - name: 2XX
          description: OK
        - name: default
          aliasType: response
          target: *a11
        - name: default
          aliasType: response
          target: *a12
        - name: default
          aliasType: response
          target: *a13
      summary: Delete a registered device's update token
      tags:
        - Push
    - description: Returns a paginated response of channel names.
      id: getChannelsWithPushSubscribers
      parameters:
        - name: "1"
          aliasType: parameter
          target: *a30
      responses:
        - name: 2XX
          description: OK
          mediaType: application/json
          schema:
            type: array
            name: anonymous<unknown>
            elementSchema: *a1
        - name: 2XX
          description: OK
          mediaType: application/x-msgpack
          schema:
            type: array
            name: anonymous<unknown>
            elementSchema: *a1
        - name: 2XX
          description: OK
          mediaType: text/html
          schema:
            type: array
            name: anonymous<unknown>
            elementSchema: *a1
        - name: default
          aliasType: response
          target: *a11
        - name: default
          aliasType: response
          target: *a12
        - name: default
          aliasType: response
          target: *a13
      summary: List all channels with at least one subscribed device
      tags:
        - Push
    - description: List of device details of devices registed for push notifications.
      id: getRegisteredPushDevices
      parameters:
        - type: query
          name: limit
          description: The maximum number of records to return.
          expandParameterValues: true
          renderStyle: form
          schema:
            type: alias
            name: anonymous<number>
            aliasType: schema
            constraints:
              - type: constraint
                name: Maximum
                maximum: 1000
            defaults:
              - type: server-default
                name: anonymous<unknown>
                value: 100
            targetSchema: *a5
      responses:
        - name: 2XX
          description: OK
          mediaType: application/json
          schema:
            type: alias
            name: schema
            aliasType: schema
            targetSchema: *a31
        - name: 2XX
          description: OK
          mediaType: application/x-msgpack
          schema:
            type: alias
            name: schema
            aliasType: schema
            targetSchema: *a31
        - name: 2XX
          description: OK
          mediaType: text/html
          schema:
            type: alias
            name: schema
            aliasType: schema
            targetSchema: *a31
        - name: default
          aliasType: response
          target: *a11
        - name: default
          aliasType: response
          target: *a12
        - name: default
          aliasType: response
          target: *a13
      summary: List devices registered for receiving push notifications
      tags:
        - Push
    - description: Register a devices details, including the information necessary to
        deliver push notifications to it. Requires "push-admin" capability.
      id: registerPushDevice
      parameters:
        - name: "1"
          aliasType: parameter
          target: *a30
      requests:
        - identity: anonymous<requestBody>
          mediaType: application/json
          schema:
            type: alias
            name: schema
            aliasType: schema
            targetSchema: *a31
        - identity: anonymous<requestBody>
          mediaType: application/x-msgpack
          schema:
            type: alias
            name: schema
            aliasType: schema
            targetSchema: *a31
      responses:
        - name: 2XX
          description: OK
          mediaType: application/json
          schema:
            type: alias
            name: schema
            aliasType: schema
            targetSchema: *a31
        - name: 2XX
          description: OK
          mediaType: application/x-msgpack
          schema:
            type: alias
            name: schema
            aliasType: schema
            targetSchema: *a31
        - name: 2XX
          description: OK
          mediaType: text/html
          schema:
            type: alias
            name: schema
            aliasType: schema
            targetSchema: *a31
        - name: default
          aliasType: response
          target: *a11
        - name: default
          aliasType: response
          target: *a12
        - name: default
          aliasType: response
          target: *a13
      summary: Register a device for receiving push notifications
      tags:
        - Push
    - description: Unregisters devices. All their subscriptions for receiving push
        notifications through channels will also be deleted.
      id: unregisterAllPushDevices
      parameters:
        - type: query
          name: clientId
          description: Optional filter to restrict to devices associated with that
            clientId. Cannot be used with deviceId.
          expandParameterValues: true
          renderStyle: form
          schema: *a1
      responses:
        - name: 2XX
          description: OK
        - name: default
          aliasType: response
          target: *a11
        - name: default
          aliasType: response
          target: *a12
        - name: default
          aliasType: response
          target: *a13
      summary: Unregister matching devices for push notifications
      tags:
        - Push
    - description: Get the full details of a device.
      id: getPushDeviceDetails
      parameters:
        - name: "0"
          aliasType: parameter
          target: &a32
            type: path
            name: device_id
            description: Device's ID.
            expandParameterValues: false
            renderStyle: simple
            required: true
            schema: *a1
      responses:
        - name: 2XX
          description: OK
          mediaType: application/json
          schema:
            type: alias
            name: schema
            aliasType: schema
            targetSchema: *a31
        - name: 2XX
          description: OK
          mediaType: application/x-msgpack
          schema:
            type: alias
            name: schema
            aliasType: schema
            targetSchema: *a31
        - name: 2XX
          description: OK
          mediaType: text/html
          schema:
            type: alias
            name: schema
            aliasType: schema
            targetSchema: *a31
        - name: default
          aliasType: response
          target: *a11
        - name: default
          aliasType: response
          target: *a12
        - name: default
          aliasType: response
          target: *a13
      summary: Get a device registration
      tags:
        - Push
    - description: Device registrations can be upserted (the existing registration is
        replaced entirely) with a PUT operation. Only clientId, metadata and
        push.recipient are mutable.
      id: putPushDeviceDetails
      parameters:
        - name: "0"
          aliasType: parameter
          target: *a32
      requests:
        - identity: anonymous<requestBody>
          mediaType: application/json
          schema:
            type: alias
            name: schema
            aliasType: schema
            targetSchema: *a31
        - identity: anonymous<requestBody>
          mediaType: application/x-msgpack
          schema:
            type: alias
            name: schema
            aliasType: schema
            targetSchema: *a31
        - identity: anonymous<requestBody>
          mediaType: application/x-www-form-urlencoded
          schema:
            type: alias
            name: schema
            aliasType: schema
            targetSchema: *a31
      responses:
        - name: 2XX
          description: OK
          mediaType: application/json
          schema:
            type: alias
            name: schema
            aliasType: schema
            targetSchema: *a31
        - name: 2XX
          description: OK
          mediaType: application/x-msgpack
          schema:
            type: alias
            name: schema
            aliasType: schema
            targetSchema: *a31
        - name: 2XX
          description: OK
          mediaType: text/html
          schema:
            type: alias
            name: schema
            aliasType: schema
            targetSchema: *a31
        - name: default
          aliasType: response
          target: *a11
        - name: default
          aliasType: response
          target: *a12
        - name: default
          aliasType: response
          target: *a13
      summary: Update a device registration
      tags:
        - Push
    - description: Unregisters a single device by its device ID. All its subscriptions
        for receiving push notifications through channels will also be deleted.
      id: unregisterPushDevice
      parameters:
        - name: "0"
          aliasType: parameter
          target: *a32
      responses:
        - name: 2XX
          description: OK
        - name: default
          aliasType: response
          target: *a11
        - name: default
          aliasType: response
          target: *a12
        - name: default
          aliasType: response
          target: *a13
      summary: Unregister a single device for push notifications
      tags:
        - Push
    - description: Specific attributes of an existing registration can be updated.
        Only clientId, metadata and push.recipient are mutable.
      id: patchPushDeviceDetails
      parameters:
        - name: "0"
          aliasType: parameter
          target: *a32
      requests:
        - identity: anonymous<requestBody>
          mediaType: application/json
          schema:
            type: alias
            name: schema
            aliasType: schema
            targetSchema: *a31
        - identity: anonymous<requestBody>
          mediaType: application/x-msgpack
          schema:
            type: alias
            name: schema
            aliasType: schema
            targetSchema: *a31
        - identity: anonymous<requestBody>
          mediaType: application/x-www-form-urlencoded
          schema:
            type: alias
            name: schema
            aliasType: schema
            targetSchema: *a31
      responses:
        - name: 2XX
          description: OK
          mediaType: application/json
          schema:
            type: alias
            name: schema
            aliasType: schema
            targetSchema: *a31
        - name: 2XX
          description: OK
          mediaType: application/x-msgpack
          schema:
            type: alias
            name: schema
            aliasType: schema
            targetSchema: *a31
        - name: 2XX
          description: OK
          mediaType: text/html
          schema:
            type: alias
            name: schema
            aliasType: schema
            targetSchema: *a31
        - name: default
          aliasType: response
          target: *a11
        - name: default
          aliasType: response
          target: *a12
        - name: default
          aliasType: response
          target: *a13
      summary: Update a device registration
      tags:
        - Push
    - description: Gets an updated device details object.
      id: updatePushDeviceDetails
      parameters:
        - name: "0"
          aliasType: parameter
          target: *a32
      responses:
        - name: 2XX
          description: OK
          mediaType: application/json
          schema:
            type: alias
            name: schema
            aliasType: schema
            targetSchema: *a31
        - name: 2XX
          description: OK
          mediaType: application/x-msgpack
          schema:
            type: alias
            name: schema
            aliasType: schema
            targetSchema: *a31
        - name: 2XX
          description: OK
          mediaType: text/html
          schema:
            type: alias
            name: schema
            aliasType: schema
            targetSchema: *a31
        - name: default
          aliasType: response
          target: *a11
        - name: default
          aliasType: response
          target: *a12
        - name: default
          aliasType: response
          target: *a13
      summary: Reset a registered device's update token
      tags:
        - Push
    - description: A convenience endpoint to deliver a push notification payload to a
        single device or set of devices identified by their client identifier.
      id: publishPushNotificationToDevices
      parameters:
        - name: "1"
          aliasType: parameter
          target: *a30
      requests:
        - identity: anonymous<requestBody>
          mediaType: application/json
          schema:
            type: object
            name: anonymous<object>
            properties:
              - name: push
                schema: *a33
              - name: recipient
                required: true
                schema: *a34
        - identity: anonymous<requestBody>
          mediaType: application/x-msgpack
          schema:
            type: object
            name: anonymous<object>
            properties:
              - name: push
                schema: *a33
              - name: recipient
                required: true
                schema: *a34
        - identity: anonymous<requestBody>
          mediaType: application/x-www-form-urlencoded
          schema:
            type: object
            name: anonymous<object>
            properties:
              - name: push
                schema: *a33
              - name: recipient
                required: true
                schema: *a34
      responses:
        - name: 2XX
          description: OK
        - name: default
          aliasType: response
          target: *a11
        - name: default
          aliasType: response
          target: *a12
        - name: default
          aliasType: response
          target: *a13
      summary: Publish a push notification to device(s)
      tags:
        - Push
    - description: The Ably system can be queried to obtain usage statistics for a
        given application, and results are provided aggregated across all
        channels in use in the application in the specified period. Stats may be
        used to track usage against account quotas.
      id: getStats
      parameters:
        - type: query
          name: unit
          description: Specifies the unit of aggregation in the returned results.
          expandParameterValues: true
          renderStyle: form
          schema:
            type: enum
            name: schema
            elementSchema: &a35
              type: alias
              name: anonymous<string>
              aliasType: schema
              defaults:
                - type: server-default
                  name: anonymous<unknown>
                  value: minute
              targetSchema: *a1
            sealed: true
            values:
              - type: constant
                name: anonymous<unknown>
                value: minute
                valueSchema: *a35
              - type: constant
                name: anonymous<unknown>
                value: hour
                valueSchema: *a35
              - type: constant
                name: anonymous<unknown>
                value: day
                valueSchema: *a35
              - type: constant
                name: anonymous<unknown>
                value: month
                valueSchema: *a35
      responses:
        - name: 2XX
          description: OK
          mediaType: application/json
          schema:
            type: object
            name: anonymous<object>
        - name: default
          aliasType: response
          target: *a11
        - name: default
          aliasType: response
          target: *a12
        - name: default
          aliasType: response
          target: *a13
      summary: Retrieve usage statistics for an application
      tags:
        - Stats
    - description: This returns the service time in milliseconds since the epoch.
      id: getTime
      parameters:
        - name: "1"
          aliasType: parameter
          target: *a30
      responses:
        - name: 2XX
          description: OK
          mediaType: application/json
          schema:
            type: array
            name: anonymous<unknown>
            elementSchema: *a5
        - name: 2XX
          description: OK
          mediaType: application/x-msgpack
          schema:
            type: array
            name: anonymous<unknown>
            elementSchema: *a5
        - name: 2XX
          description: OK
          mediaType: text/html
          schema: *a1
        - name: default
          aliasType: response
          target: *a11
        - name: default
          aliasType: response
          target: *a12
        - name: default
          aliasType: response
          target: *a13
      summary: Get the service time
      tags:
        - Stats
      attic:
        security: []
  parameters:
    - *a17
    - *a32
    - *a21
    - type: query
      name: end
      expandParameterValues: true
      renderStyle: form
      schema:
        type: alias
        name: anonymous<string>
        aliasType: schema
        defaults:
          - type: server-default
            name: anonymous<unknown>
            value: now
        targetSchema: *a1
    - type: query
      name: limit
      expandParameterValues: true
      renderStyle: form
      schema:
        type: alias
        name: anonymous<number>
        aliasType: schema
        defaults:
          - type: server-default
            name: anonymous<unknown>
            value: "100"
        targetSchema: *a5
    - type: query
      name: start
      expandParameterValues: true
      renderStyle: form
      schema: *a1
    - *a36
    - *a30
    - type: header
      name: X-Ably-Version
      description: The version of the API you wish to use.
      expandParameterValues: false
      renderStyle: simple
      schema: *a1
  responses:
    - *a11
    - *a12
    - *a13
metaData:
  name: Ably
  contacts:
    - name: Ably Support
      email: support@ably.io
      role: author
      url: https://www.ably.io/contact
      attic:
        x-twitter: ablyrealtime
  description: The [REST API
    specification](https://www.ably.io/documentation/rest-api) for Ably.
  attic:
    x-apisguru-categories:
      - cloud
    x-logo:
      url: https://twitter.com/ablyrealtime/profile_image?size=original
    x-origin:
      - converter:
          url: https://github.com/lucybot/api-spec-converter
          version: 2.7.25
        format: openapi
        url: https://raw.githubusercontent.com/ably/open-specs/master/swagger.yaml
        version: "3.0"
    x-providerName: ably.io
schemas:
  primitives:
    - *a1
    - *a4
    - *a5
  objects:
    - *a6
    - *a37
    - *a31
    - *a10
    - *a19
    - *a16
    - *a15
    - *a38
    - *a20
    - *a33
    - *a34
    - *a39
    - *a24
    - *a23
